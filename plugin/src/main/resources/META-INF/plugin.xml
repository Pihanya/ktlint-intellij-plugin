<idea-plugin>
    <id>com.pihanya.ktlint</id>
    <name>Ktlint</name>
    <vendor url="https://github.com/Pihanya">Mikhail Gostev</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.kotlin</depends>

    <extensions defaultExtensionNs="com.intellij">
        <externalAnnotator language="kotlin" implementationClass="com.pihanya.ktlint.KtlintAnnotator"/>
        <postFormatProcessor implementation="com.pihanya.ktlint.KtlintPostFormatProcessor"/>
        <projectService serviceImplementation="com.pihanya.ktlint.config.KtlintPluginSettingsV0"/>
        <projectService serviceImplementation="com.pihanya.ktlint.config.KtlintPluginSettingsV1"/>
        <projectService serviceImplementation="com.pihanya.ktlint.config.KtlintGlobalSettings"/>
        <projectConfigurable groupId="tools" displayName="Ktlint" id="preferences.ktlint"
                             instance="com.pihanya.ktlint.config.KtlintConfig"/>
        <errorHandler implementation="com.pihanya.ktlint.KtlintErrorHandler"/>
        <notificationGroup id="ktlint" displayType="BALLOON" isLogByDefault="true"
                           bundle="locales.ktlintBundle" key="ktlint.notification.group.title"/>
    </extensions>

    <actions>
        <action id="Ktlint.Format" class="com.pihanya.ktlint.action.FormatAction">
            <add-to-group group-id="RefactoringMenu"/>
        </action>
        <action id="com.pihanya.ktlint.action.EnableAction" class="com.pihanya.ktlint.action.EnableAction"/>
        <action id="com.pihanya.ktlint.action.FormatAction" class="com.pihanya.ktlint.action.FormatAction"/>
    </actions>
</idea-plugin>
